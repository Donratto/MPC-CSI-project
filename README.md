# Custom FFT Implementation in C
ðŸ‡¨ðŸ‡¿[ÄŒeÅ¡tina](./CSI_projekt_230597/readME-cz.md)
## Project Assignment
```
2.2 DFT/FFT
Create your own implementation of FFT or DFT. Visualize the results appropriately
and compare them with MATLAB's native implementation. Compare the memory
and computational requirements of both implementations.
```

## Project Description
This project implements the Fast Fourier Transform (FFT) and its inverse (IFFT) using recursive and iterative approaches in C. The implementation is integrated with MATLAB via the MEX interface to compare its performance with MATLAB's built-in functions.

## Features
- Recursive and iterative implementations of FFT/IFFT in C.
- Automatic padding of the input signal to the nearest power of two for FFT compatibility.
- Integration with MATLAB using a MEX function (`mex_moj_fft`).
- Performance comparison of custom FFT/IFFT implementations with MATLAB's built-in functions.
- Visualization of FFT results and computation time comparison.
- The test signal with a duration of `T=2 s` is a sine wave with a frequency `f=1000 Hz` sampled at frequency of `fs=4096 Hz`.

## Limitations
- Memory usage comparison was not successfully implemented.

## File Structure
- **`src/`**: Contains C source files for FFT implementation and the MEX interface.
  - `moj_fft.c`: Main implementation of FFT/IFFT.
  - `moj_fft.h`: Header file for FFT functions.
  - `mex_moj_fft.c`: MEX interface for MATLAB.
- **`out/`**: Folder for generated output files.
- **`fft_comp.m`**: MATLAB script for comparing FFT implementations. Repeats FFT multiple times and averages the resulting computation times for better comparison.
- **`fft_help.m`**: MATLAB script for loading and visualizing FFT results.
- **`Makefile`**: Script for compiling the C code.

## Usage
You need to be in the root directory of the project, so the output of `pwd` should end like this: `...\CSI_projekt_230597`.

### 1. **[fft_comp.m](fft_comp.m)**
```matlab
fft_comp
```
This script uses the **[MEX interface](#compiling-and-running-mainc)** to call library functions and compare the performance and accuracy of different FFT/IFFT implementations (recursive, iterative, and MATLAB's built-in). It generates a test sinusoidal signal, measures computation times for each implementation, and visualizes FFT results (magnitude and phase) as well as IFFT results (reconstructed signal). The results are displayed in graphs and a table with computation times.

### 2. **[fft_help.m](fft_help.m)**
```matlab
fft_help
```
This script loads the saved FFT/IFFT results from output files generated by `src/main.c`, visualizes them, and compares them with MATLAB's built-in FFT/IFFT functions. It displays graphs of FFT magnitudes and phases, compares computation times of different implementations, and plots a bar chart comparing processing times.

### Compiling the MEX Interface in MATLAB
You need to have the MATLAB Add-On [MATLAB Support for MinGW-w64 C/C++/Fortran Compiler](https://www.mathworks.com/matlabcentral/fileexchange/52848-matlab-support-for-mingw-w64-c-c-fortran-compiler) installed. Then, you can compile the MEX interface:
```matlab
cd src
mex mex_moj_fft.c moj_fft.c
cd ..
```

The compiled MEX interface file differs based on the operating system:
- macOS: `mex_moj_fft.mexmaca64`
- Windows: `mex_moj_fft.mexw64`

### Compiling and Running [main.c](src/main.c)

You need to have GCC installed.

Windows
```bash
gcc src/main.c -o out/main
./out/main.exe
```

macOS/Linux
```bash
make
```

## Disclaimer
This project was developed with the assistance of GitHub Copilot, which provided suggestions and support during the coding and documentation process.

Sources: 
- [Wikipedia](https://fr.wikipedia.org/wiki/Transformation_de_Fourier_rapide)
- [cp-algorithms.com](https://cp-algorithms.com/algebra/fft.html)
- [lloydrochester.com](https://lloydrochester.com/post/c/example-fft/)
